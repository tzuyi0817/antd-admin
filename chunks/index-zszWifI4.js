import{j as f}from"./ant-design-B1v1DFa0.js";import{u as vs,S as Ps,L as Ts,a as Ss}from"../entries/index.EKB2oGD3.js";import{b as m,j as Rt,q as As,u as ws,T as Cs,L as Wt}from"./core-BlX8Nbu1.js";import{i as Re,f as Ds,g as At,h as Le,j as at,k as Lt,l as js,n as Vs,o as Rs,p as Ls,q as Es,s as Et,t as Ms,v as bs,w as ks,x as Is,S as Bs,H as Fs,y as K,z as Ee,A as Me,B as $t,C as be,D as ke,E as D,F as Os,G as E,I as L,J as Ie,K as wt,M as Ns,N as Us,O as Ct,P as Be,Q as C,R as Ws,U as $s,V as Hs,W as Ht,X as Gs,Y as zs,Z as lt,_ as q,$ as Fe,a0 as Oe,a1 as Ne,a2 as _s,a3 as qs,a4 as Gt,a5 as Xs,a6 as Ys,a7 as Ks,a8 as Zs,a9 as Js,aa as Qs,ab as mt,ac as G,ad as et,ae as st,af as zt,ag as ti,ah as ei,ai as si,aj as z,ak as ii,al as ni,am as _t,an as oi,ao as ri,ap as ai,aq as li}from"./vender-D3PkjLbL.js";import{O as j,Y as Mt,Q as Ue,a8 as X,B as W,aJ as ci,aC as We,ab as ui}from"./antd-COVAbBu_.js";const bt=m.createContext({});function kt(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const $e=Re?m.useLayoutEffect:m.useEffect,ht=m.createContext(null),It=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function qt(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hi(...t){return e=>{let s=!1;const i=t.map(o=>{const c=qt(o,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():qt(t[o],null)}}}}function di(...t){return m.useCallback(hi(...t),t)}class fi extends m.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,o=Ds(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mi({children:t,isPresent:e,anchorX:s,root:i}){const o=m.useId(),c=m.useRef(null),n=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:r}=m.useContext(It),a=di(c,t?.ref);return m.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:d,right:p}=n.current;if(e||!c.current||!l||!u)return;const g=s==="left"?`left: ${d}`:`right: ${p}`;c.current.dataset.motionPopId=o;const P=document.createElement("style");r&&(P.nonce=r);const T=i??document.head;return T.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{T.contains(P)&&T.removeChild(P)}},[e]),f.jsx(fi,{isPresent:e,childRef:c,sizeRef:n,children:m.cloneElement(t,{ref:a})})}const pi=({children:t,initial:e,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:n,anchorX:r,root:a})=>{const l=kt(gi),u=m.useId();let h=!0,d=m.useMemo(()=>(h=!1,{id:u,initial:e,isPresent:s,custom:o,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;i&&i()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[s,l,i]);return c&&h&&(d={...d}),m.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[s]),m.useEffect(()=>{!s&&!l.size&&i&&i()},[s]),n==="popLayout"&&(t=f.jsx(mi,{isPresent:s,anchorX:r,root:a,children:t})),f.jsx(ht.Provider,{value:d,children:t})};function gi(){return new Map}function He(t=!0){const e=m.useContext(ht);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:o}=e,c=m.useId();m.useEffect(()=>{if(t)return o(c)},[t]);const n=m.useCallback(()=>t&&i&&i(c),[c,i,t]);return!s&&i?[!1,n]:[!0]}const it=t=>t.key||"";function Xt(t){const e=[];return m.Children.forEach(t,s=>{m.isValidElement(s)&&e.push(s)}),e}const yi=({children:t,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:c="sync",propagate:n=!1,anchorX:r="left",root:a})=>{const[l,u]=He(n),h=m.useMemo(()=>Xt(t),[t]),d=n&&!l?[]:h.map(it),p=m.useRef(!0),g=m.useRef(h),P=kt(()=>new Map),[T,x]=m.useState(h),[y,v]=m.useState(h);$e(()=>{p.current=!1,g.current=h;for(let V=0;V<y.length;V++){const A=it(y[V]);d.includes(A)?P.delete(A):P.get(A)!==!0&&P.set(A,!1)}},[y,d.length,d.join("-")]);const S=[];if(h!==T){let V=[...h];for(let A=0;A<y.length;A++){const B=y[A],$=it(B);d.includes($)||(V.splice(A,0,B),S.push(B))}return c==="wait"&&S.length&&(V=S),v(Xt(V)),x(h),null}const{forceRender:M}=m.useContext(bt);return f.jsx(f.Fragment,{children:y.map(V=>{const A=it(V),B=n&&!l?!1:h===y||d.includes(A),$=()=>{if(P.has(A))P.set(A,!0);else return;let Y=!0;P.forEach(O=>{O||(Y=!1)}),Y&&(M?.(),v(g.current),n&&u?.(),i&&i())};return f.jsx(pi,{isPresent:B,initial:!p.current||s?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:a,onExitComplete:B?void 0:$,anchorX:r,children:V},A)})})},Ge=m.createContext({strict:!1});function xi(t){for(const e in t)At[e]={...At[e],...t[e]}}const vi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ct(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vi.has(t)}let ze=t=>!ct(t);function Pi(t){typeof t=="function"&&(ze=e=>e.startsWith("on")?!ct(e):t(e))}try{Pi(require("@emotion/is-prop-valid").default)}catch{}function Ti(t,e,s){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(ze(o)||s===!0&&ct(o)||!e&&!ct(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const dt=m.createContext({});function Si(t,e){if(Le(t)){const{initial:s,animate:i}=t;return{initial:s===!1||at(s)?s:void 0,animate:at(i)?i:void 0}}return t.inherit!==!1?e:{}}function Ai(t){const{initial:e,animate:s}=Si(t,m.useContext(dt));return m.useMemo(()=>({initial:e,animate:s}),[Yt(e),Yt(s)])}function Yt(t){return Array.isArray(t)?t.join(" "):t}const Bt=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _e(t,e,s){for(const i in e)!Lt(e[i])&&!js(i,s)&&(t[i]=e[i])}function wi({transformTemplate:t},e){return m.useMemo(()=>{const s=Bt();return Vs(s,e,t),Object.assign({},s.vars,s.style)},[e])}function Ci(t,e){const s=t.style||{},i={};return _e(i,s,t),Object.assign(i,wi(t,e)),i}function Di(t,e){const s={},i=Ci(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=i,s}const qe=()=>({...Bt(),attrs:{}});function ji(t,e,s,i){const o=m.useMemo(()=>{const c=qe();return Rs(c,e,Ls(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};_e(c,t.style,t),o.style={...c,...o.style}}return o}const Vi=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ft(t){return typeof t!="string"||t.includes("-")?!1:!!(Vi.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ri(t,e,s,{latestValues:i},o,c=!1){const r=(Ft(t)?ji:Di)(e,i,o,t),a=Ti(e,typeof t=="string",c),l=t!==m.Fragment?{...a,...r,ref:s}:{},{children:u}=e,h=m.useMemo(()=>Lt(u)?u.get():u,[u]);return m.createElement(t,{...l,children:h})}function ot(t){return Lt(t)?t.get():t}function Li({scrapeMotionValuesFromProps:t,createRenderState:e},s,i,o){return{latestValues:Ei(s,i,o,t),renderState:e()}}function Ei(t,e,s,i){const o={},c=i(t,{});for(const d in c)o[d]=ot(c[d]);let{initial:n,animate:r}=t;const a=Le(t),l=Es(t);e&&l&&!a&&t.inherit!==!1&&(n===void 0&&(n=e.initial),r===void 0&&(r=e.animate));let u=s?s.initial===!1:!1;u=u||n===!1;const h=u?r:n;if(h&&typeof h!="boolean"&&!Et(h)){const d=Array.isArray(h)?h:[h];for(let p=0;p<d.length;p++){const g=Ms(t,d[p]);if(g){const{transitionEnd:P,transition:T,...x}=g;for(const y in x){let v=x[y];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(o[y]=v)}for(const y in P)o[y]=P[y]}}}return o}const Xe=t=>(e,s)=>{const i=m.useContext(dt),o=m.useContext(ht),c=()=>Li(t,e,i,o);return s?c():kt(c)},Mi=Xe({scrapeMotionValuesFromProps:bs,createRenderState:Bt}),bi=Xe({scrapeMotionValuesFromProps:ks,createRenderState:qe}),ki=Symbol.for("motionComponentSymbol");function _(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ii(t,e,s){return m.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):_(s)&&(s.current=i))},[e])}const Ye=m.createContext({});function Bi(t,e,s,i,o){const{visualElement:c}=m.useContext(dt),n=m.useContext(Ge),r=m.useContext(ht),a=m.useContext(It).reducedMotion,l=m.useRef(null);i=i||n.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:c,props:s,presenceContext:r,blockInitialAnimation:r?r.initial===!1:!1,reducedMotionConfig:a}));const u=l.current,h=m.useContext(Ye);u&&!u.projection&&o&&(u.type==="html"||u.type==="svg")&&Fi(l.current,s,o,h);const d=m.useRef(!1);m.useInsertionEffect(()=>{u&&d.current&&u.update(s,r)});const p=s[Is],g=m.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return $e(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),g.current=!1),u.enteringChildren=void 0)}),u}function Fi(t,e,s,i){const{layoutId:o,layout:c,drag:n,dragConstraints:r,layoutScroll:a,layoutRoot:l,layoutCrossfade:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Ke(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!n||r&&_(r),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:a,layoutRoot:l})}function Ke(t){if(t)return t.options.allowProjection!==!1?t.projection:Ke(t.parent)}function pt(t,{forwardMotionProps:e=!1}={},s,i){s&&xi(s);const o=Ft(t)?bi:Mi;function c(r,a){let l;const u={...m.useContext(It),...r,layoutId:Oi(r)},{isStatic:h}=u,d=Ai(r),p=o(r,h);if(!h&&Re){Ni();const g=Ui(u);l=g.MeasureLayout,d.visualElement=Bi(t,p,u,i,g.ProjectionNode)}return f.jsxs(dt.Provider,{value:d,children:[l&&d.visualElement?f.jsx(l,{visualElement:d.visualElement,...u}):null,Ri(t,r,Ii(p,d.visualElement,a),p,h,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const n=m.forwardRef(c);return n[ki]=t,n}function Oi({layoutId:t}){const e=m.useContext(bt).id;return e&&t!==void 0?e+"-"+t:t}function Ni(t,e){m.useContext(Ge).strict}function Ui(t){const{drag:e,layout:s}=At;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Wi(t,e){if(typeof Proxy>"u")return pt;const s=new Map,i=(c,n)=>pt(c,n,t,e),o=(c,n)=>i(c,n);return new Proxy(o,{get:(c,n)=>n==="create"?i:(s.has(n)||s.set(n,pt(n,void 0,t,e)),s.get(n))})}const $i=(t,e)=>Ft(t)?new Bs(e):new Fs(e,{allowProjection:t!==m.Fragment});function Ze(t,e,s,i=0,o=1){const c=Array.from(t).sort((l,u)=>l.sortNodePosition(u)).indexOf(e),n=t.size,r=(n-1)*i;return typeof s=="function"?s(c,n):o===1?c*i:r-c*i}function Dt(t,e,s={}){const i=K(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const c=i?()=>Promise.all(Ee(t,i,s)):()=>Promise.resolve(),n=t.variantChildren&&t.variantChildren.size?(a=0)=>{const{delayChildren:l=0,staggerChildren:u,staggerDirection:h}=o;return Hi(t,e,a,l,u,h,s)}:()=>Promise.resolve(),{when:r}=o;if(r){const[a,l]=r==="beforeChildren"?[c,n]:[n,c];return a().then(()=>l())}else return Promise.all([c(),n(s.delay)])}function Hi(t,e,s=0,i=0,o=0,c=1,n){const r=[];for(const a of t.variantChildren)a.notify("AnimationStart",e),r.push(Dt(a,e,{...n,delay:s+(typeof i=="function"?0:i)+Ze(t.variantChildren,a,i,o,c)}).then(()=>a.notify("AnimationComplete",e)));return Promise.all(r)}function Gi(t,e,s={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(c=>Dt(t,c,s));i=Promise.all(o)}else if(typeof e=="string")i=Dt(t,e,s);else{const o=typeof e=="function"?K(t,e,s.custom):e;i=Promise.all(Ee(t,o,s))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Je(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let i=0;i<s;i++)if(e[i]!==t[i])return!1;return!0}const zi=Me.length;function Qe(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Qe(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<zi;s++){const i=Me[s],o=t.props[i];(at(o)||o===!1)&&(e[i]=o)}return e}const _i=[...be].reverse(),qi=be.length;function Xi(t){return e=>Promise.all(e.map(({animation:s,options:i})=>Gi(t,s,i)))}function Yi(t){let e=Xi(t),s=Kt(),i=!0;const o=a=>(l,u)=>{const h=K(t,u,a==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:d,transitionEnd:p,...g}=h;l={...l,...g,...p}}return l};function c(a){e=a(t)}function n(a){const{props:l}=t,u=Qe(t.parent)||{},h=[],d=new Set;let p={},g=1/0;for(let T=0;T<qi;T++){const x=_i[T],y=s[x],v=l[x]!==void 0?l[x]:u[x],S=at(v),M=x===a?y.isActive:null;M===!1&&(g=T);let V=v===u[x]&&v!==l[x]&&S;if(V&&i&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...p},!y.isActive&&M===null||!v&&!y.prevProp||Et(v)||typeof v=="boolean")continue;const A=Ki(y.prevProp,v);let B=A||x===a&&y.isActive&&!V&&S||T>g&&S,$=!1;const Y=Array.isArray(v)?v:[v];let O=Y.reduce(o(x),{});M===!1&&(O={});const{prevResolvedValues:Ot={}}=y,ys={...Ot,...O},Nt=w=>{B=!0,d.has(w)&&($=!0,d.delete(w)),y.needsAnimating[w]=!0;const b=t.getValue(w);b&&(b.liveStyle=!1)};for(const w in ys){const b=O[w],N=Ot[w];if(p.hasOwnProperty(w))continue;let H=!1;$t(b)&&$t(N)?H=!Je(b,N):H=b!==N,H?b!=null?Nt(w):d.add(w):b!==void 0&&d.has(w)?Nt(w):y.protectedKeys[w]=!0}y.prevProp=v,y.prevResolvedValues=O,y.isActive&&(p={...p,...O}),i&&t.blockInitialAnimation&&(B=!1);const Ut=V&&A;B&&(!Ut||$)&&h.push(...Y.map(w=>{const b={type:x};if(typeof w=="string"&&i&&!Ut&&t.manuallyAnimateOnMount&&t.parent){const{parent:N}=t,H=K(N,w);if(N.enteringChildren&&H){const{delayChildren:xs}=H.transition||{};b.delay=Ze(N.enteringChildren,t,xs)}}return{animation:w,options:b}}))}if(d.size){const T={};if(typeof l.initial!="boolean"){const x=K(t,Array.isArray(l.initial)?l.initial[0]:l.initial);x&&x.transition&&(T.transition=x.transition)}d.forEach(x=>{const y=t.getBaseTarget(x),v=t.getValue(x);v&&(v.liveStyle=!0),T[x]=y??null}),h.push({animation:T})}let P=!!h.length;return i&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(h):Promise.resolve()}function r(a,l){if(s[a].isActive===l)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(a,l)),s[a].isActive=l;const u=n(a);for(const h in s)s[h].protectedKeys={};return u}return{animateChanges:n,setActive:r,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Kt()}}}function Ki(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Je(e,t):!1}function U(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kt(){return{animate:U(!0),whileInView:U(),whileHover:U(),whileTap:U(),whileDrag:U(),whileFocus:U(),exit:U()}}class F{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Zi extends F{constructor(e){super(e),e.animationState||(e.animationState=Yi(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Et(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Ji=0;class Qi extends F{constructor(){super(...arguments),this.id=Ji++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);s&&!e&&o.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tn={animation:{Feature:Zi},exit:{Feature:Qi}};function Q(t,e,s,i={passive:!0}){return t.addEventListener(e,s,i),()=>t.removeEventListener(e,s)}function tt(t){return{point:{x:t.pageX,y:t.pageY}}}const en=t=>e=>ke(e)&&t(e,tt(e));function Z(t,e,s,i){return Q(t,e,en(s),i)}const ts=1e-4,sn=1-ts,nn=1+ts,es=.01,on=0-es,rn=0+es;function R(t){return t.max-t.min}function an(t,e,s){return Math.abs(t-e)<=s}function Zt(t,e,s,i=.5){t.origin=i,t.originPoint=D(e.min,e.max,t.origin),t.scale=R(s)/R(e),t.translate=D(s.min,s.max,t.origin)-t.originPoint,(t.scale>=sn&&t.scale<=nn||isNaN(t.scale))&&(t.scale=1),(t.translate>=on&&t.translate<=rn||isNaN(t.translate))&&(t.translate=0)}function J(t,e,s,i){Zt(t.x,e.x,s.x,i?i.originX:void 0),Zt(t.y,e.y,s.y,i?i.originY:void 0)}function Jt(t,e,s){t.min=s.min+e.min,t.max=t.min+R(e)}function ln(t,e,s){Jt(t.x,e.x,s.x),Jt(t.y,e.y,s.y)}function Qt(t,e,s){t.min=e.min-s.min,t.max=t.min+R(e)}function ut(t,e,s){Qt(t.x,e.x,s.x),Qt(t.y,e.y,s.y)}function k(t){return[t("x"),t("y")]}const ss=({current:t})=>t?t.ownerDocument.defaultView:null;class is{constructor(e,s,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:n=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=yt(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Os(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:P}=d,{timestamp:T}=E;this.history.push({...P,timestamp:T});const{onStart:x,onMove:y}=this.handlers;p||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=gt(p,this.transformPagePoint),L.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:P,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yt(d.type==="pointercancel"?this.lastMoveEventInfo:gt(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,x),P&&P(d,x)},!ke(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=n,this.contextWindow=o||window;const r=tt(e),a=gt(r,this.transformPagePoint),{point:l}=a,{timestamp:u}=E;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=s;h&&h(e,yt(a,this.history)),this.removeListeners=Ie(Z(this.contextWindow,"pointermove",this.handlePointerMove),Z(this.contextWindow,"pointerup",this.handlePointerUp),Z(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wt(this.updatePoint)}}function gt(t,e){return e?{point:e(t.point)}:t}function te(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yt({point:t},e){return{point:t,delta:te(t,ns(e)),offset:te(t,cn(e)),velocity:un(e,.1)}}function cn(t){return t[0]}function ns(t){return t[t.length-1]}function un(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,i=null;const o=ns(t);for(;s>=0&&(i=t[s],!(o.timestamp-i.timestamp>Ns(e)));)s--;if(!i)return{x:0,y:0};const c=Us(o.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const n={x:(o.x-i.x)/c,y:(o.y-i.y)/c};return n.x===1/0&&(n.x=0),n.y===1/0&&(n.y=0),n}function hn(t,{min:e,max:s},i){return e!==void 0&&t<e?t=i?D(e,t,i.min):Math.max(t,e):s!==void 0&&t>s&&(t=i?D(s,t,i.max):Math.min(t,s)),t}function ee(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function dn(t,{top:e,left:s,bottom:i,right:o}){return{x:ee(t.x,s,o),y:ee(t.y,e,i)}}function se(t,e){let s=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,i]=[i,s]),{min:s,max:i}}function fn(t,e){return{x:se(t.x,e.x),y:se(t.y,e.y)}}function mn(t,e){let s=.5;const i=R(t),o=R(e);return o>i?s=Ct(e.min,e.max-i,t.min):i>o&&(s=Ct(t.min,t.max-o,e.min)),Be(0,1,s)}function pn(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const jt=.35;function gn(t=jt){return t===!1?t=0:t===!0&&(t=jt),{x:ie(t,"left","right"),y:ie(t,"top","bottom")}}function ie(t,e,s){return{min:ne(t,e),max:ne(t,s)}}function ne(t,e){return typeof t=="number"?t:t[e]||0}const yn=new WeakMap;class xn{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=C(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(tt(h).point)},n=(h,d)=>{const{drag:p,dragPropagation:g,onDragStart:P}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zs(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),k(x=>{let y=this.getAxisMotionValue(x).get()||0;if(lt.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[x];S&&(y=R(S)*(parseFloat(y)/100))}}this.originPoint[x]=y}),P&&L.postRender(()=>P(h,d)),Ht(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},r=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:P,onDrag:T}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=d;if(g&&this.currentDirection===null){this.currentDirection=vn(x),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),T&&T(h,d)},a=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>k(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new is(e,{onSessionStart:c,onStart:n,onMove:r,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:ss(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!i)return;const{velocity:n}=o;this.startAnimation(n);const{onDragEnd:r}=this.getProps();r&&L.postRender(()=>r(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:o}=this.getProps();if(!i||!nt(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let n=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(n=hn(n,this.constraints[e],this.elastic[e])),c.set(n)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&_(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=dn(i.layoutBox,e):this.constraints=!1,this.elastic=gn(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&k(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=pn(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!_(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=Ws(i,o.root,this.visualElement.getTransformPagePoint());let n=fn(o.layout.layoutBox,c);if(s){const r=s($s(n));this.hasMutatedConstraints=!!r,r&&(n=Hs(r))}return n}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:o,dragTransition:c,dragSnapToOrigin:n,onDragTransitionEnd:r}=this.getProps(),a=this.constraints||{},l=k(u=>{if(!nt(u,s,this.currentDirection))return;let h=a&&a[u]||{};n&&(h={min:0,max:0});const d=o?200:1e6,p=o?40:1e7,g={type:"inertia",velocity:i?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...c,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(l).then(r)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return Ht(this.visualElement,e),i.start(Gs(e,i,0,s,this.visualElement,!1))}stopAnimation(){k(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){k(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[s];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){k(s=>{const{drag:i}=this.getProps();if(!nt(s,i,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:n,max:r}=o.layout.layoutBox[s];c.set(e[s]-D(n,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!_(s)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};k(n=>{const r=this.getAxisMotionValue(n);if(r&&this.constraints!==!1){const a=r.get();o[n]=mn({min:a,max:a},this.constraints[n])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),k(n=>{if(!nt(n,e,null))return;const r=this.getAxisMotionValue(n),{min:a,max:l}=this.constraints[n];r.set(D(a,l,o[n]))})}addListeners(){if(!this.visualElement.current)return;yn.set(this.visualElement,this);const e=this.visualElement.current,s=Z(e,"pointerdown",a=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(a)}),i=()=>{const{dragConstraints:a}=this.getProps();_(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),L.read(i);const n=Q(window,"resize",()=>this.scalePositionWithinConstraints()),r=o.addEventListener("didUpdate",(({delta:a,hasLayoutChanged:l})=>{this.isDragging&&l&&(k(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=a[u].translate,h.set(h.get()+a[u].translate))}),this.visualElement.render())}));return()=>{n(),s(),c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:n=jt,dragMomentum:r=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:n,dragMomentum:r}}}function nt(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function vn(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class Pn extends F{constructor(e){super(e),this.removeGroupControls=q,this.removeListeners=q,this.controls=new xn(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||q}unmount(){this.removeGroupControls(),this.removeListeners()}}const oe=t=>(e,s)=>{t&&L.postRender(()=>t(e,s))};class Tn extends F{constructor(){super(...arguments),this.removePointerDownListener=q}onPointerDown(e){this.session=new is(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ss(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:oe(e),onStart:oe(s),onMove:i,onEnd:(c,n)=>{delete this.session,o&&L.postRender(()=>o(c,n))}}}mount(){this.removePointerDownListener=Z(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xt=!1;class Sn extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:o}=this.props,{projection:c}=e;c&&(s.group&&s.group.add(c),i&&i.register&&o&&i.register(c),xt&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),rt.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:o,isPresent:c}=this.props,{projection:n}=i;return n&&(n.isPresent=c,xt=!0,o||e.layoutDependency!==s||s===void 0||e.isPresent!==c?n.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?n.promote():n.relegate()||L.postRender(()=>{const r=n.getStack();(!r||!r.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fe.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:o}=e;xt=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function os(t){const[e,s]=He(),i=m.useContext(bt);return f.jsx(Sn,{...t,layoutGroup:i,switchLayoutGroup:m.useContext(Ye),isPresent:e,safeToRemove:s})}const An=(t,e)=>t.depth-e.depth;class wn{constructor(){this.children=[],this.isDirty=!1}add(e){Oe(this.children,e),this.isDirty=!0}remove(e){Ne(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(An),this.isDirty=!1,this.children.forEach(e)}}const rs=["TopLeft","TopRight","BottomLeft","BottomRight"],Cn=rs.length,re=t=>typeof t=="string"?parseFloat(t):t,ae=t=>typeof t=="number"||_s.test(t);function Dn(t,e,s,i,o,c){o?(t.opacity=D(0,s.opacity??1,jn(i)),t.opacityExit=D(e.opacity??1,0,Vn(i))):c&&(t.opacity=D(e.opacity??1,s.opacity??1,i));for(let n=0;n<Cn;n++){const r=`border${rs[n]}Radius`;let a=le(e,r),l=le(s,r);if(a===void 0&&l===void 0)continue;a||(a=0),l||(l=0),a===0||l===0||ae(a)===ae(l)?(t[r]=Math.max(D(re(a),re(l),i),0),(lt.test(l)||lt.test(a))&&(t[r]+="%")):t[r]=l}(e.rotate||s.rotate)&&(t.rotate=D(e.rotate||0,s.rotate||0,i))}function le(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jn=as(0,.5,qs),Vn=as(.5,.95,q);function as(t,e,s){return i=>i<t?0:i>e?1:s(Ct(t,e,i))}function ce(t,e){t.min=e.min,t.max=e.max}function I(t,e){ce(t.x,e.x),ce(t.y,e.y)}function ue(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function he(t,e,s,i,o){return t-=e,t=Gt(t,1/s,i),o!==void 0&&(t=Gt(t,1/o,i)),t}function Rn(t,e=0,s=1,i=.5,o,c=t,n=t){if(lt.test(e)&&(e=parseFloat(e),e=D(n.min,n.max,e/100)-n.min),typeof e!="number")return;let r=D(c.min,c.max,i);t===c&&(r-=e),t.min=he(t.min,e,s,r,o),t.max=he(t.max,e,s,r,o)}function de(t,e,[s,i,o],c,n){Rn(t,e[s],e[i],e[o],e.scale,c,n)}const Ln=["x","scaleX","originX"],En=["y","scaleY","originY"];function fe(t,e,s,i){de(t.x,e,Ln,s?s.x:void 0,i?i.x:void 0),de(t.y,e,En,s?s.y:void 0,i?i.y:void 0)}function me(t){return t.translate===0&&t.scale===1}function ls(t){return me(t.x)&&me(t.y)}function pe(t,e){return t.min===e.min&&t.max===e.max}function Mn(t,e){return pe(t.x,e.x)&&pe(t.y,e.y)}function ge(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cs(t,e){return ge(t.x,e.x)&&ge(t.y,e.y)}function ye(t){return R(t.x)/R(t.y)}function xe(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bn{constructor(){this.members=[]}add(e){Oe(this.members,e),e.scheduleRender()}remove(e){if(Ne(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(o=>e===o);if(s===0)return!1;let i;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kn(t,e,s){let i="";const o=t.x.translate/e.x,c=t.y.translate/e.y,n=s?.z||0;if((o||c||n)&&(i=`translate3d(${o}px, ${c}px, ${n}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:l,rotate:u,rotateX:h,rotateY:d,skewX:p,skewY:g}=s;l&&(i=`perspective(${l}px) ${i}`),u&&(i+=`rotate(${u}deg) `),h&&(i+=`rotateX(${h}deg) `),d&&(i+=`rotateY(${d}deg) `),p&&(i+=`skewX(${p}deg) `),g&&(i+=`skewY(${g}deg) `)}const r=t.x.scale*e.x,a=t.y.scale*e.y;return(r!==1||a!==1)&&(i+=`scale(${r}, ${a})`),i||"none"}const vt=["","X","Y","Z"],In=1e3;let Bn=0;function Pt(t,e,s,i){const{latestValues:o}=e;o[t]&&(s[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function us(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=oi(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",L,!(o||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&us(i)}function hs({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(n={},r=e?.()){this.id=Bn++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nn),this.nodes.forEach(Hn),this.nodes.forEach(Gn),this.nodes.forEach(Un)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=n,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new wn)}addEventListener(n,r){return this.eventHandlers.has(n)||this.eventHandlers.set(n,new Xs),this.eventHandlers.get(n).add(r)}notifyListeners(n,...r){const a=this.eventHandlers.get(n);a&&a.notify(...r)}hasListeners(n){return this.eventHandlers.has(n)}mount(n){if(this.instance)return;this.isSVG=Ys(n)&&!Ks(n),this.instance=n;const{layoutId:r,layout:a,visualElement:l}=this.options;if(l&&!l.current&&l.mount(n),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(a||r)&&(this.isLayoutDirty=!0),t){let u,h=0;const d=()=>this.root.updateBlockedByResize=!1;L.read(()=>{h=window.innerWidth}),t(n,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=Zs(d,250),rt.hasAnimatedSinceResize&&(rt.hasAnimatedSinceResize=!1,this.nodes.forEach(Te)))})}r&&this.root.registerSharedNode(r,this),this.options.animate!==!1&&l&&(r||a)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||l.getDefaultTransition()||Yn,{onLayoutAnimationStart:P,onLayoutAnimationComplete:T}=l.getProps(),x=!this.targetLayout||!cs(this.targetLayout,p),y=!h&&d;if(this.options.layoutRoot||this.resumeFrom||y||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...Js(g,"layout"),onPlay:P,onComplete:T};(l.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,y)}else h||Te(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const n=this.getStack();n&&n.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zn),this.animationId++)}getTransformTemplate(){const{visualElement:n}=this.options;return n&&n.getProps().transformTemplate}willUpdate(n=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&us(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:r,layout:a}=this.options;if(r===void 0&&!a)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),n&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ve);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Pe);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($n),this.nodes.forEach(Fn),this.nodes.forEach(On)):this.nodes.forEach(Pe),this.clearAllSnapshots();const r=Qs.now();E.delta=Be(0,1e3/60,r-E.timestamp),E.timestamp=r,E.isProcessing=!0,mt.update.process(E),mt.preRender.process(E),mt.render.process(E),E.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fe.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wn),this.sharedNodes.forEach(_n)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,L.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){L.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!R(this.snapshot.measuredBox.x)&&!R(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const n=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=C(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:r}=this.options;r&&r.notify("LayoutMeasure",this.layout.layoutBox,n?n.layoutBox:void 0)}updateScroll(n="measure"){let r=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===n&&(r=!1),r&&this.instance){const a=i(this.instance);this.scroll={animationId:this.root.animationId,phase:n,isRoot:a,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!o)return;const n=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,r=this.projectionDelta&&!ls(this.projectionDelta),a=this.getTransformTemplate(),l=a?a(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;n&&this.instance&&(r||G(this.latestValues)||u)&&(o(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(n=!0){const r=this.measurePageBox();let a=this.removeElementScroll(r);return n&&(a=this.removeTransform(a)),Kn(a),{animationId:this.root.animationId,measuredBox:r,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:n}=this.options;if(!n)return C();const r=n.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Zn))){const{scroll:l}=this.root;l&&(et(r.x,l.offset.x),et(r.y,l.offset.y))}return r}removeElementScroll(n){const r=C();if(I(r,n),this.scroll?.wasRoot)return r;for(let a=0;a<this.path.length;a++){const l=this.path[a],{scroll:u,options:h}=l;l!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&I(r,n),et(r.x,u.offset.x),et(r.y,u.offset.y))}return r}applyTransform(n,r=!1){const a=C();I(a,n);for(let l=0;l<this.path.length;l++){const u=this.path[l];!r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&st(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),G(u.latestValues)&&st(a,u.latestValues)}return G(this.latestValues)&&st(a,this.latestValues),a}removeTransform(n){const r=C();I(r,n);for(let a=0;a<this.path.length;a++){const l=this.path[a];if(!l.instance||!G(l.latestValues))continue;zt(l.latestValues)&&l.updateSnapshot();const u=C(),h=l.measurePageBox();I(u,h),fe(r,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return G(this.latestValues)&&fe(r,this.latestValues),r}setTargetDelta(n){this.targetDelta=n,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(n){this.options={...this.options,...n,crossfade:n.crossfade!==void 0?n.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==E.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(n=!1){const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const a=!!this.resumingFrom||this!==r;if(!(n||a&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=E.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=C(),this.targetWithTransforms=C()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ln(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):I(this.target,this.layout.layoutBox),ti(this.target,this.targetDelta)):I(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zt(this.parent.latestValues)||ei(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(n,r,a){this.relativeParent=n,this.linkedParentVersion=n.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=C(),this.relativeTargetOrigin=C(),ut(this.relativeTargetOrigin,r,a),I(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const n=this.getLead(),r=!!this.resumingFrom||this!==n;let a=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(a=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===E.timestamp&&(a=!1),a)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;I(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;si(this.layoutCorrected,this.treeScale,this.path,r),n.layout&&!n.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(n.target=n.layout.layoutBox,n.targetWithTransforms=C());const{target:p}=n;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ue(this.prevProjectionDelta.x,this.projectionDelta.x),ue(this.prevProjectionDelta.y,this.projectionDelta.y)),J(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!xe(this.projectionDelta.x,this.prevProjectionDelta.x)||!xe(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(n=!0){if(this.options.visualElement?.scheduleRender(),n){const r=this.getStack();r&&r.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=z(),this.projectionDelta=z(),this.projectionDeltaWithTransform=z()}setAnimationOrigin(n,r=!1){const a=this.snapshot,l=a?a.latestValues:{},u={...this.latestValues},h=z();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;const d=C(),p=a?a.source:void 0,g=this.layout?this.layout.source:void 0,P=p!==g,T=this.getStack(),x=!T||T.members.length<=1,y=!!(P&&!x&&this.options.crossfade===!0&&!this.path.some(Xn));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const M=S/1e3;Se(h.x,n.x,M),Se(h.y,n.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ut(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin,d,M),v&&Mn(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=C()),I(v,this.relativeTarget)),P&&(this.animationValues=u,Dn(u,l,this.latestValues,M,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(n){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=L.update(()=>{rt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ii(0)),this.currentAnimation=ni(this.motionValue,[0,1e3],{...n,velocity:0,isSync:!0,onUpdate:r=>{this.mixTargetDelta(r),n.onUpdate&&n.onUpdate(r)},onStop:()=>{},onComplete:()=>{n.onComplete&&n.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const n=this.getStack();n&&n.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(In),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const n=this.getLead();let{targetWithTransforms:r,target:a,layout:l,latestValues:u}=n;if(!(!r||!a||!l)){if(this!==n&&this.layout&&l&&ds(this.options.animationType,this.layout.layoutBox,l.layoutBox)){a=this.target||C();const h=R(this.layout.layoutBox.x);a.x.min=n.target.x.min,a.x.max=a.x.min+h;const d=R(this.layout.layoutBox.y);a.y.min=n.target.y.min,a.y.max=a.y.min+d}I(r,a),st(r,u),J(this.projectionDeltaWithTransform,this.layoutCorrected,r,u)}}registerSharedNode(n,r){this.sharedNodes.has(n)||this.sharedNodes.set(n,new bn),this.sharedNodes.get(n).add(r);const l=r.options.initialPromotionConfig;r.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(r):void 0})}isLead(){const n=this.getStack();return n?n.lead===this:!0}getLead(){const{layoutId:n}=this.options;return n?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:n}=this.options;return n?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:n}=this.options;if(n)return this.root.sharedNodes.get(n)}promote({needsReset:n,transition:r,preserveFollowOpacity:a}={}){const l=this.getStack();l&&l.promote(this,a),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}relegate(){const n=this.getStack();return n?n.relegate(this):!1}resetSkewAndRotation(){const{visualElement:n}=this.options;if(!n)return;let r=!1;const{latestValues:a}=n;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(r=!0),!r)return;const l={};a.z&&Pt("z",n,l,this.animationValues);for(let u=0;u<vt.length;u++)Pt(`rotate${vt[u]}`,n,l,this.animationValues),Pt(`skew${vt[u]}`,n,l,this.animationValues);n.render();for(const u in l)n.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);n.scheduleRender()}applyProjectionStyles(n,r){if(!this.instance||this.isSVG)return;if(!this.isVisible){n.visibility="hidden";return}const a=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,n.visibility="",n.opacity="",n.pointerEvents=ot(r?.pointerEvents)||"",n.transform=a?a(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(n.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,n.pointerEvents=ot(r?.pointerEvents)||""),this.hasProjected&&!G(this.latestValues)&&(n.transform=a?a({},""):"none",this.hasProjected=!1);return}n.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let h=kn(this.projectionDeltaWithTransform,this.treeScale,u);a&&(h=a(u,h)),n.transform=h;const{x:d,y:p}=this.projectionDelta;n.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,l.animationValues?n.opacity=l===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:n.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in _t){if(u[g]===void 0)continue;const{correct:P,applyTo:T,isCSSVariable:x}=_t[g],y=h==="none"?u[g]:P(u[g],l);if(T){const v=T.length;for(let S=0;S<v;S++)n[T[S]]=y}else x?this.options.visualElement.renderState.vars[g]=y:n[g]=y}this.options.layoutId&&(n.pointerEvents=l===this?ot(r?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(n=>n.currentAnimation?.stop()),this.root.nodes.forEach(ve),this.root.sharedNodes.clear()}}}function Fn(t){t.updateLayout()}function On(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?k(u=>{const h=c?e.measuredBox[u]:e.layoutBox[u],d=R(h);h.min=s[u].min,h.max=h.min+d}):ds(o,e.layoutBox,s)&&k(u=>{const h=c?e.measuredBox[u]:e.layoutBox[u],d=R(s[u]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+d)});const n=z();J(n,s,e.layoutBox);const r=z();c?J(r,t.applyTransform(i,!0),e.measuredBox):J(r,s,e.layoutBox);const a=!ls(n);let l=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:d}=u;if(h&&d){const p=C();ut(p,e.layoutBox,h.layoutBox);const g=C();ut(g,s,d.layoutBox),cs(p,g)||(l=!0),u.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:r,layoutDelta:n,hasLayoutChanged:a,hasRelativeLayoutChanged:l})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Nn(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Un(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wn(t){t.clearSnapshot()}function ve(t){t.clearMeasurements()}function Pe(t){t.isLayoutDirty=!1}function $n(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Te(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Hn(t){t.resolveTargetDelta()}function Gn(t){t.calcProjection()}function zn(t){t.resetSkewAndRotation()}function _n(t){t.removeLeadSnapshot()}function Se(t,e,s){t.translate=D(e.translate,0,s),t.scale=D(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Ae(t,e,s,i){t.min=D(e.min,s.min,i),t.max=D(e.max,s.max,i)}function qn(t,e,s,i){Ae(t.x,e.x,s.x,i),Ae(t.y,e.y,s.y,i)}function Xn(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yn={duration:.45,ease:[.4,0,.1,1]},we=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ce=we("applewebkit/")&&!we("chrome/")?Math.round:q;function De(t){t.min=Ce(t.min),t.max=Ce(t.max)}function Kn(t){De(t.x),De(t.y)}function ds(t,e,s){return t==="position"||t==="preserve-aspect"&&!an(ye(e),ye(s),.2)}function Zn(t){return t!==t.root&&t.scroll?.wasRoot}const Jn=hs({attachResizeListener:(t,e)=>Q(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tt={current:void 0},fs=hs({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tt.current){const t=new Jn({});t.mount(window),t.setOptions({layoutScroll:!0}),Tt.current=t}return Tt.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Qn={pan:{Feature:Tn},drag:{Feature:Pn,ProjectionNode:fs,MeasureLayout:os}};function je(t,e,s){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=i[o];c&&L.postRender(()=>c(e,tt(e)))}class to extends F{mount(){const{current:e}=this.node;e&&(this.unmount=ri(e,(s,i)=>(je(this.node,i,"Start"),o=>je(this.node,o,"End"))))}unmount(){}}class eo extends F{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ie(Q(this.node.current,"focus",()=>this.onFocus()),Q(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ve(t,e,s){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=i[o];c&&L.postRender(()=>c(e,tt(e)))}class so extends F{mount(){const{current:e}=this.node;e&&(this.unmount=ai(e,(s,i)=>(Ve(this.node,i,"Start"),(o,{success:c})=>Ve(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vt=new WeakMap,St=new WeakMap,io=t=>{const e=Vt.get(t.target);e&&e(t)},no=t=>{t.forEach(io)};function oo({root:t,...e}){const s=t||document;St.has(s)||St.set(s,{});const i=St.get(s),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(no,{root:t,...e})),i[o]}function ro(t,e,s){const i=oo(e);return Vt.set(t,s),i.observe(t),()=>{Vt.delete(t),i.unobserve(t)}}const ao={some:0,all:1};class lo extends F{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:o="some",once:c}=e,n={root:s?s.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:ao[o]},r=a=>{const{isIntersecting:l}=a;if(this.isInView===l||(this.isInView=l,c&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=l?u:h;d&&d(a)};return ro(this.node.current,n,r)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(co(e,s))&&this.startObserver()}unmount(){}}function co({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const uo={inView:{Feature:lo},tap:{Feature:so},focus:{Feature:eo},hover:{Feature:to}},ho={layout:{ProjectionNode:fs,MeasureLayout:os}},fo={...tn,...uo,...Qn,...ho},mo=Wi(fo,$i),ms=m.createContext({formMode:"login",setFormMode:()=>{}});function po({children:t}){const[e,s]=m.useState("login");return f.jsx(ms.Provider,{value:{formMode:e,setFormMode:s},children:t})}const ft=()=>m.useContext(ms),{Title:go}=Ue,yo={email:""};function xo(){const[t,e]=m.useState(0),[s]=li({targetDate:t,onEnd:()=>{e(0)}}),[i,o]=m.useState(!1),[c]=j.useForm(),{t:n}=Rt(),{setFormMode:r}=ft();function a(){o(!0),e(Date.now()+1e3*30),setTimeout(()=>{o(!1)},1e3)}return f.jsxs(f.Fragment,{children:[f.jsxs(Mt,{orientation:"vertical",children:[f.jsx(go,{level:3,children:n("authority.forgotPassword")}),f.jsx("p",{className:"text-xs opacity-80",children:n("authority.forgotPasswordSubtitle")})]}),f.jsxs(j,{name:"forgotForm",form:c,layout:"vertical",initialValues:yo,onFinish:a,children:[f.jsx(j.Item,{label:n("authority.email"),name:"email",rules:[{required:!0,message:n("form.email.required")},{type:"email",message:n("form.email.invalid")}],children:f.jsx(X,{placeholder:n("form.email.required")})}),f.jsx(j.Item,{children:f.jsx(W,{block:!0,type:"primary",htmlType:"submit",loading:i,disabled:s>0,children:s>0?n("authority.retryAfterText",{count:Math.floor(s/1e3)}):n("authority.sendResetLink")})}),f.jsx("div",{className:"text-center text-sm",children:f.jsx(W,{type:"link",icon:f.jsx(ci,{}),className:"px-1!",onPointerDown:()=>{r("login")},children:n("common.back")})})]})]})}const vo=/^[\w-]{4,16}$/;function ps(t){return[{required:!0,message:t("form.username.required")},{pattern:vo,message:t("form.username.invalid")}]}function gs(t){return[{required:!0,message:t("form.password.required")},{pattern:/^(?=.*\d)(?=.*[a-z])[\w~!@#$%^&*+.-]{8,16}$/i,message:t("form.password.invalid")}]}const Po={account:"admin",password:"12345678"};function To(){const[t,e]=m.useState(!1),[s]=j.useForm(),{t:i}=Rt(),{message:o}=We.useApp(),[c]=As(),n=ws(),{setFormMode:r}=ft(),a=vs(h=>h.login),l="login";function u(h){e(!0),o.open({key:l,type:"loading",content:i("authority.loginInProgress")}),a(h).then(()=>{o.open({key:l,type:"success",content:i("authority.loginSuccess"),duration:2});const d=c.get("redirect");n(d?`/${d.slice(1)}`:"/home")}).catch(()=>{o.destroy(l)}).finally(()=>{setTimeout(()=>{e(!1)},1e3)})}return f.jsxs(f.Fragment,{children:[f.jsxs(Mt,{orientation:"vertical",children:[f.jsx("h2",{className:"text-colorText mb-3 text-3xl leading-9 font-bold tracking-tight lg:text-4xl",children:i("authority.welcomeBack")}),f.jsx("p",{className:"text-colorTextSecondary text-sm lg:text-base",children:i("authority.loginDescription")})]}),f.jsxs(j,{name:"passwordLoginForm",form:s,layout:"vertical",initialValues:Po,onFinish:u,children:[f.jsx(j.Item,{label:i("authority.username"),name:"account",rules:ps(i),children:f.jsx(X,{placeholder:i("form.username.required")})}),f.jsx(j.Item,{label:i("authority.password"),name:"password",rules:gs(i),children:f.jsx(X.Password,{placeholder:i("form.password.required")})}),f.jsxs(j.Item,{children:[f.jsx("div",{className:"-mt-1 mb-5 flex justify-between text-sm",children:f.jsx(W,{type:"link",className:"p-0!",onPointerDown:()=>{r("forgotPassword")},children:i("authority.forgotPassword")})}),f.jsx(W,{block:!0,type:"primary",htmlType:"submit",loading:t,children:i("authority.login")})]}),f.jsxs("div",{className:"text-center text-sm",children:[i("authority.noAccountYet"),f.jsx(W,{type:"link",className:"px-1!",onPointerDown:()=>{r("register")},children:i("authority.goToRegister")})]})]})]})}const{Title:So}=Ue,Ao={username:"",password:"",confirmPassword:""};function wo(){const[t]=m.useState(!1),[e]=j.useForm(),{t:s}=Rt(),{setFormMode:i}=ft(),{message:o}=We.useApp();function c(){o.success(""),i("login")}return f.jsxs(f.Fragment,{children:[f.jsx(Mt,{orientation:"vertical",children:f.jsx(So,{level:3,children:s("authority.register")})}),f.jsxs(j,{name:"registerForm",form:e,layout:"vertical",initialValues:Ao,onFinish:c,children:[f.jsx(j.Item,{label:s("authority.username"),name:"username",rules:ps(s),children:f.jsx(X,{placeholder:s("form.username.required")})}),f.jsx(j.Item,{label:s("authority.password"),name:"password",rules:gs(s),children:f.jsx(X.Password,{placeholder:s("form.password.required")})}),f.jsx(j.Item,{name:"confirm",label:s("authority.confirmPassword"),dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:s("form.confirmPassword.required")},({getFieldValue:n})=>({validator(r,a){return!a||n("password")===a?Promise.resolve():Promise.reject(new Error(s("form.confirmPassword.invalid")))}})],children:f.jsx(X.Password,{placeholder:s("form.confirmPassword.required")})}),f.jsx(j.Item,{rules:[()=>({validator(n,r){return r===!0?Promise.resolve():Promise.reject(new Error(s("form.agree.required")))}})],name:"termsAgreement",valuePropName:"checked",children:f.jsx(ui,{children:f.jsx("div",{className:"flex flex-wrap text-xs",children:f.jsx(Cs,{i18nKey:"authority.agree",components:[f.jsx(Wt,{to:"/terms-of-service",target:"_blank"},0),f.jsx(Wt,{to:"/privacy-policy",target:"_blank"},1)]})})})}),f.jsx(j.Item,{children:f.jsx(W,{block:!0,type:"primary",htmlType:"submit",loading:t,children:s("authority.register")})}),f.jsxs("div",{className:"text-center text-sm",children:[s("authority.alreadyHaveAnAccount"),f.jsx(W,{type:"link",className:"px-1!",onPointerDown:()=>{i("login")},children:s("authority.goToLogin")})]})]})]})}const Co={login:m.createElement(To),register:m.createElement(wo),forgotPassword:m.createElement(xo)};function Do(){const{formMode:t}=ft();return f.jsx(yi,{mode:"wait",initial:!1,children:f.jsx(mo.div,{initial:{x:30,opacity:0},animate:{x:0,opacity:1},exit:{x:0,opacity:0},transition:{duration:.3},children:Co[t]},t)})}function ko(){return f.jsxs("div",{className:"flex h-full flex-col",style:{backgroundImage:"radial-gradient(rgb(255, 255, 255), rgb(230, 244, 255))"},children:[f.jsxs("header",{className:"flex items-center justify-between p-3",children:[f.jsxs("div",{className:"text-colorText flex flex-1 items-center",children:[f.jsx(Ps,{name:"react",className:"mr-2 h-11 w-11"}),f.jsx("h1",{className:"m-0 text-xl font-medium",children:"Antd Admin"})]}),f.jsx("div",{className:"flex items-center",children:f.jsx(Ts,{size:"large",className:"px-2.75"})})]}),f.jsx("div",{className:"flex w-full flex-1 flex-col justify-center overflow-hidden px-6 py-10 xl:px-8",children:f.jsx("div",{className:"w-full sm:mx-auto md:max-w-md",children:f.jsx(po,{children:f.jsx(Do,{})})})}),f.jsx(Ss,{className:"my-3 w-full text-center"})]})}export{ko as default};
